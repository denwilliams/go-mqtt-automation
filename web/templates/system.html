{{define "system-content"}}
<h2>System Configuration</h2>

<div class="card">
    <div class="card-header">
        <h3>MQTT Configuration</h3>
    </div>
    <div class="card-body">
        <table class="table">
            <tr>
                <th>Broker URL</th>
                <td>{{.MQTTBroker}}</td>
            </tr>
            <tr>
                <th>Connection Status</th>
                <td>
                    <span class="status {{if .MQTTConnected}}status-connected{{else}}status-disconnected{{end}}">
                        {{if .MQTTConnected}}Connected{{else}}Disconnected{{end}}
                    </span>
                </td>
            </tr>
        </table>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h3>Database Configuration</h3>
    </div>
    <div class="card-body">
        <table class="table">
            <tr>
                <th>Database Type</th>
                <td>{{.DatabaseType}}</td>
            </tr>
            <tr>
                <th>Database Path</th>
                <td><code>{{.DatabasePath}}</code></td>
            </tr>
        </table>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h3>Web Server Configuration</h3>
    </div>
    <div class="card-body">
        <table class="table">
            <tr>
                <th>Port</th>
                <td>{{.WebPort}}</td>
            </tr>
            <tr>
                <th>Log Level</th>
                <td>{{.LogLevel}}</td>
            </tr>
        </table>
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h3>System Actions</h3>
    </div>
    <div class="card-body">
        <p>Configuration is read from <code>config/config.yaml</code>. Restart the application after making changes.</p>
        
        <div style="margin-top: 1rem;">
            <button class="btn btn-secondary" onclick="refreshStatus()">Refresh Status</button>
            <a href="/logs" class="btn btn-secondary">View System Logs</a>
        </div>
    </div>
</div>

<script>
function refreshStatus() {
    location.reload();
}
</script>
{{end}}